model:
  arch: dpo_blip2_vicuna_instruct
  model_type: vicuna7b
  pretrained: "/home/cuiruochen/model/InstructBLIP/InstructBLIP-trimmed-model/instruct_blip_vicuna7b_trimmed.pth"
  llm_model: "/home/cuiruochen/model/InstructBLIP/vicuna-7b-v1.1-post-20240510-v8-bs-2-1-16-epoch-1-gpu-4-lr-5e-7"

datasets:
  instruct_blip_given_q_coco2017_vig_test: # name of the dataset builder
    annotation: ""
    # vision encoder
    vis_processor:
      train:
        name: "blip2_image_train"
        image_size: 224
      eval:
        name: "blip_image_eval"
        image_size: 224
    # text processor
    text_processor:
      eval:
        name: "blip_caption"
        max_words: 100

run:
  runner: runner_iter
  task: dpo
  seed: 42
  
  device: "cuda"
  world_size: 1
  dist_url: "env://"
  distributed: True